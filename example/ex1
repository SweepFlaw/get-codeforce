#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\n\nint N,A[400005];\nint cnt[25];\nll B[25][25];\nll f[2000005];\n\nint main(){\n\tscanf(\"%d\",&N);\n\tfor(int i=1;i<=N;i++){\n\t\tscanf(\"%d\",&A[i]);\n\t\tfor(int j=1;j<=20;j++)\n\t\t\tB[j][A[i]]+=cnt[j];\n\t\tcnt[A[i]]++;\n\t}\n\tmemset(f,63,sizeof(f));\n\tf[0]=0;\n\tfor(int s=0;s<(1<<20);s++)\n\tfor(int i=1;i<=20;i++)if(!((s>>(i-1))&1)){\n\t\tint tmp=0;\n\t\tfor(int j=1;j<=20;j++)if((s>>(j-1))&1)\n\t\t\ttmp+=B[j][i];\n\t\tf[s|(1<<(i-1))]=min(f[s|(1<<(i-1))],f[s]+tmp);\n\t}\n\tprintf(\"%lld\\n\",f[(1<<20)-1]);\n\t\n\treturn 0;\n}\n
#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\n\nint N,A[400005];\nint cnt[25];\nll B[25][25];\nll f[2000005];\n\nint main(){\n\tscanf(\"%d\",&N);\n\tfor(int i=1;i<=N;i++){\n\t\tscanf(\"%d\",&A[i]);\n\t\tfor(int j=1;j<=20;j++)\n\t\t\tB[j][A[i]]+=cnt[j];\n\t\tcnt[A[i]]++;\n\t}\n\tmemset(f,63,sizeof(f));\n\tf[0]=0;\n\tfor(int s=0;s<(1<<20);s++)\n\tfor(int i=1;i<=20;i++)if(!((s>>(i-1))&1)){\n\t\tint tmp=0;\n\t\tfor(int j=1;j<=20;j++)if((s>>(j-1))&1)\n\t\t\ttmp+=B[j][i];\n\t\tf[s|(1<<(i-1))]=min(f[s|(1<<(i-1))],f[s]+tmp);\n\t}\n\tprintf(\"%I64d\\n\",f[(1<<20)-1]);\n\t\n\treturn 0;\n}\n
#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\n\nint N,A[400005];\nint cnt[25];\nll B[25][25];\nll f[2000005];\n\nint main(){\n\tscanf(\"%d\",&N);\n\tfor(int i=1;i<=N;i++){\n\t\tscanf(\"%d\",&A[i]);\n\t\tfor(int j=1;j<=20;j++)\n\t\t\tB[j][A[i]]+=cnt[j];\n\t\tcnt[A[i]]++;\n\t}\n\tmemset(f,63,sizeof(f));\n\tf[0]=0;\n\tfor(int s=0;s<(1<<20);s++)\n\tfor(int i=1;i<=20;i++)if(!((s>>(i-1))&1)){\n\t\tll tmp=0;\n\t\tfor(int j=1;j<=20;j++)if((s>>(j-1))&1)\n\t\t\ttmp+=B[j][i];\n\t\tf[s|(1<<(i-1))]=min(f[s|(1<<(i-1))],f[s]+tmp);\n\t}\n\tprintf(\"%I64d\\n\",f[(1<<20)-1]);\n\t\n\treturn 0;\n}\n